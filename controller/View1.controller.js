var empId="";var type="";var name="";var request="";var position="";var dept="";var area="";var company="";var string="";sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("zdm.zclearance_direct_manager.controller.View1",{onInit:function(){debugger;var e=window.location.href;var a=e.split("ccc");if(a.length===2){string=a[1];this.zrecord=string.substr(1,9)}var r=this;var t=r.getOwnerComponent().getModel();var o="/directManagerSet('"+this.zrecord+"')";t.read(o,{success:function(e,a){var t=new sap.ui.model.json.JSONModel(e);var o=r.getView().byId("idClearanceForm1");o.setModel(t);name=e.Name;position=e.Jobtitle;dept=e.Department;area=e.Zarea;company=e.Zcompany},error:function(){sap.m.MessageToast.show("No Data retreived")}})},handleUploadPress:function(e){debugger;var a=this.getView().byId("fileUploader");var r=a.getFocusDomRef();var t=r.files[0];var o=this;this.filename=t.name;this.filetype=t.type;var n=new FileReader;n.onload=function(e){debugger;var a=e.currentTarget.result.replace("application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,","");o.postToSap(o.zrecord,o.filename,o.filetype,a)};n.readAsDataURL(t)},postToSap:function(e,a,r,t){var o=this.getView().getModel();var n={Zrecord:e,Zdepartment:"DM",Content:btoa(encodeURI(t)),Filename:a,Filetype:r};o.create("/attachmentsSet",n,{success:function(e){sap.m.MessageToast.show("Success")},error:function(e){sap.m.MessageToast.show("error")}})},data:function(e){debugger;var a=this;var r=a.getOwnerComponent().getModel();var t="/directManagerSet('"+1+"')";r.read(t,{success:function(e,r){var t=new sap.ui.model.json.JSONModel(e);var o=a.getView().byId("idClearanceForm1");o.setModel(t);name=e.Name;position=e.Jobtitle;dept=e.Department;area=e.Zarea;company=e.Zcompany},error:function(){sap.m.MessageToast.show("No Data retreived")}})}})});